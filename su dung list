#include <iostream>
#include <string>
#include <list>
using namespace std;

class Phim {
public:
    string ma;
    string ten;
    string theLoai;
    float diem;
};

int main() {
    list<Phim> ds;
    int chon;

    do {
        cout << "\n QUAN LY PHIM CHIEU RAP \n";
        cout << "1. Them phim moi\n";
        cout << "2. Hien thi tat ca phim\n";
        cout << "3. Tim phim theo ma\n";
        cout << "4. Hien thi phim co diem cao nhat\n";
        cout << "5. Hien thi phim co diem thap nhat\n";
        cout << "0. Thoat\n";
        cout << "Chon: ";
        cin >> chon;

        switch (chon) {

        case 1: { // Them phim moi
            Phim p;
            bool trung = false;

            cout << "Nhap ma phim: ";
            cin >> p.ma;

            // Kiem tra trung ma
            for (Phim x : ds) {
                if (x.ma == p.ma)
                    trung = true;
            }

            if (trung) {
                cout << "Ma phim da ton tai!\n";
                break;
            }

            cin.ignore();
            cout << "Nhap ten phim: ";
            getline(cin, p.ten);

            cout << "Nhap the loai phim: ";
            getline(cin, p.theLoai);

            do {
                cout << "Nhap diem danh gia (1-10): ";
                cin >> p.diem;
            } while (p.diem < 1 || p.diem > 10);

            ds.push_back(p);
            cout << "Them phim thanh cong!\n";
            break;
        }

        case 2: // Hien thi tat ca phim
            if (ds.empty())
                cout << "Danh sach phim rong!\n";
            else {
                cout << "Danh sach phim:\n";
                for (Phim x : ds)
                    cout << x.ma << " - "
                         << x.ten << " - "
                         << x.theLoai << " - "
                         << x.diem << endl;
            }
            break;

        case 3: { // Tim phim theo ma
            string ma;
            bool found = false;

            cout << "Nhap ma phim can tim: ";
            cin >> ma;

            for (Phim x : ds) {
                if (x.ma == ma) {
                    cout << x.ma << " - "
                         << x.ten << " - "
                         << x.theLoai << " - "
                         << x.diem << endl;
                    found = true;
                }
            }

            if (!found)
                cout << "Khong tim thay phim!\n";
            break;
        }

        case 4: { // Phim co diem cao nhat
            if (ds.empty()) {
                cout << "Chua co phim nao!\n";
                break;
            }

            float max = ds.begin()->diem;
            for (Phim x : ds)
                if (x.diem > max)
                    max = x.diem;

            cout << "Phim co diem danh gia cao nhat:\n";
            for (Phim x : ds)
                if (x.diem == max)
                    cout << x.ma << " - "
                         << x.ten << " - "
                         << x.theLoai << " - "
                         << x.diem << endl;
            break;
        }

        case 5: { // Phim co diem thap nhat
            if (ds.empty()) {
                cout << "Chua co phim nao!\n";
                break;
            }

            float min = ds.begin()->diem;
            for (Phim x : ds)
                if (x.diem < min)
                    min = x.diem;

            cout << "Phim co diem danh gia thap nhat:\n";
            for (Phim x : ds)
                if (x.diem == min)
                    cout << x.ma << " - "
                         << x.ten << " - "
                         << x.theLoai << " - "
                         << x.diem << endl;
            break;
        }

        case 0:
            cout << "Thoat chuong trinh!\n";
            break;

        default:
            cout << "Lua chon khong hop le!\n";
        }

    } while (chon != 0);

    return 0;
}
